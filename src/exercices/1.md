# Les composants en TypeScript

C'est le moment de cr√©er tes premiers composants en TypeScript.

Pour le premier module avec TypeScript, on va cr√©er un TicTacToe de A √† Z.

Avant de faire cet exercice, assure-toi d'avoir suivi le cours sur l'intro de TypeScript
et d'avoir r√©alis√© les exercices li√©s.

‚ö†Ô∏è Tu trouveras dans le dossier [lib](../lib/) les composants **r√©ponse**, attention
√† _ne pas_ aller les regarder car ils seront utiles uniquement √† partir du prochain
exercice.

## Partie 1

On commence avec presque rien, ton but ici sera de cr√©er des composants **correctement typ√©s**
en TypeScript.

Nous souhaitons cr√©er un TicTacToe, dans celui-ci il y a 3 composants pour l'instant :

- `Game` : Le jeu complet
- `GameInfo` : Les informations du jeu
- `Board` : Le plateau de jeu
- `Square` : Un carr√© du plateau

Dans cette partie 1 je vais te demander de cr√©er le composant "Square".

Ce composant est un simple bouton qui prend en props :

- `children` : Le contenu du bouton
- `isWinningSquare` : Un bool√©en qui indique si le bouton est gagnant ou non
- `...props` : Toutes les autres props qu'un bouton peut prendre (onClick, onMouseEnter, etc...)

On peut l'utiliser comme ceci :

```tsx
<Square isWinningSquare={true} onClick={() => alert("click")}>
  X
</Square>
```

- üíå Tu comprends comment r√©cup√©rer le type d'un √©l√©ment du DOM et y ajouter des props custom

## Partie 2

Dans cette partie, on va cr√©er le composant `Board`.

Ce composant est un composant qui affiche un plateau de jeu, il prend en props :

- `squares` : Un tableau de 9 carr√©s (obligatoire) qui contient soit `X`, `O` ou `null`
  - Tu vas devoir cr√©er le type `SquareValue` qui sera soit `null`, soit `X` ou `O` et l'utiliser ici
  - Il faudra typer la valeur de retour de la fonction `getDefaultSquares` (que je te donne apr√®s) pour qu'elle soit de type `SquareValue[]`
- `onClick` : Une fonction qui prend en param√®tre un index et qui est appel√©e quand on clique sur un carr√© (potentiellement `undefined`)
- `winningSquares`: Un tableau d'index qui indique les carr√©s gagnants (potentiellement `undefined`)

On peut l'utiliser comme ceci :

```tsx
<Board squares={squares} winningSquares={[1, 1, 1]} />
```

Ce composant va afficher les 9 carr√©s du jeu, passer le onClick √† chaque enfant et d√©finit
la props `isWinningSquare` en fonction de l'index du carr√©.

Voici un d√©but de code :

```tsx
type BoardProps = {
  // ...
};
const Board = ({ squares, onClick, winningSquares }: BoardProps) => {
  return <div className="game-board">{/* ... */}</div>;
};
```

Dans la fonction `Game` tu dois ajouter une constante `squares` d√©finie par la fonction
suivante :

```ts
const getDefaultSquares = (): SquareValue[] => [
  null,
  null,
  null,
  null,
  null,
  null,
  "O",
  null,
  "X",
];
```

Tu pourras passer cette constante √† ton composant `Board` en tant que props `squares`.

- üíå Tu comprends comment utiliser des types optionnels

## Partie 3

Dans cette partie, on va cr√©er le composant `GameInfo`.

Pour √ßa il va falloir g√©n√©rer les games info, tu trouveras dans le fichier [tictactoe](/src/lib/tictactoe/helpers.ts)
plusieurs fonctions qui te permettront de g√©n√©rer les informations du jeu.

Ce composant va prendre en param√®tre `status` qui est une string qui indique √† qui est
le tour et s'il y a un gagnant.

Pour savoir √† qui est le tour tu retrouveras la fonction `calculateNextValue` qui va prendre
en param√®tre le tableau de square et qui d√©finit le prochain joueur.

Pour avoir le text du status, on va utiliser `calculateStatus` qui prend en param√®tre le tableau de square, il prend aussi `winner` qu'on ne d√©finira pas pour l'instant.

Tu pourras appeler ses fonctions dans le composant `Game` et passer en props le status √† `GameInfo`.

Il affichera le status dans un `p` qui est dans une `div` avec la class `game-info`.

Le composant `GameInfo` prend en props pour l'instant :

- `status` : Le status du jeu

- üíå Tu comprends comment faire des types simples (string, number, boolean, etc...)
