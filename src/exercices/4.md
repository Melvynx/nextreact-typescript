# Utiliser un context

Arr√™tons de rigoler et cr√©ons un context.

Et on va ajouter notre premi√®re feature √† l'int√©rieur de ce context ! Le grand avantage de faire
des customs hooks pour s√©parer la logique, c'est que le refactor par la suite devient plus simple.

Avec les am√©liorations que tu as faites dans l'exercice pr√©c√©dent, on va pouvoir facilement cr√©er
un context qui va nous permettre de g√©rer notre TicTacToe.

> ‚ÑπÔ∏è Je pars sur le principe que tu connais d√©j√† `useContext` dans cet exercice.

## Part 1 : Cr√©er le context GameContext

On va pouvoir remplacer notre custom hooks `useGame` par un context pour tout g√©rer dedans.
Avec notre dernier exercice, on a d√©j√† une bonne base pour cr√©er notre context.

Suis les ü¶Å pour cr√©er ton context.

## Part 2 : Ajouter les fonctionnalit√©s dans le context

Maintenant, il y a deux choses int√©ressantes :

- Il faut que, lorsqu'on clique sur une case, on actualise le state du context avec
  la bonne valeur.

Tu vas rajouter une fonction `onSquareClick` qui prend en param√®tre l'index de la case,
puis on va la modifier avec la variable `nextValue` d√©finie pr√©c√©demment.

Tu pourras ensuite modifier le type de notre context pour exposer `onSquareClick` et
l'utiliser lorsqu'on click sur une case.

## Part 3 : Calculer le gagnant

Tu trouveras dans le fichier `helpers.js` une fonction `calculateWinner` qui va te permettre
de calculer le gagnant.

Cette fonction retourne le gagnant (`X`, `O` ou `null`) ainsi que les index des cases gagnantes.

Il va falloir :

- R√©cup√©rer le pseudo du gagnant en fonction de la valeur `winner` que retourne `calculateWinner`
- Passer ce pseudo dans la fonction `calculateStatus` pour afficher le bon status
- Ajouter les cases gagnantes au return type de notre context
- Passer en props les cases gagnantes √† notre board pour que les cases gagnantes soient
  affich√©es diff√©remment
- V√©rifier que la partie n'est pas termin√©e dans le `onSquareClick` afin d'√©viter de pouvoir
  jouer apr√®s la fin de la partie

Ce n'est pas un exercice facile, mais on est dans **NextReact**, on passe au Next step !

De toute fa√ßon, la vid√©o solution est l√† pour te guider. J'esp√®re que le fait que tu aies
cr√©√© depuis le d√©part ce TicTacToe te rendra la t√¢che plus facile.

## Part 4 - Lessons √† tirer de cet exercice

- Pas besoin de beaucoup de state: on n'a que deux states
  - squares
  - userNames
- => les gagnants sont calcul√©s dans le rendu
- => les status sont calcul√©s dans le rendu
- => le prochain joueur est calcul√© dans le rendu

Regarde la vid√©o solution pour plus d'explications.
